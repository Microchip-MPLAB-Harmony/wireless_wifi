<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="Client - BSS Find APIs" />
<meta name="DC.relation" scheme="URI" content="GUID-11E4FD9C-17E6-4F65-AE7A-6550EB45E118.html" />
<meta name="DC.relation" scheme="URI" content="GUID-6C1D56BE-C531-4584-903E-B20EA545069E.html" />
<meta name="DC.relation" scheme="URI" content="GUID-5160F49B-444F-4D1A-A398-5207DEF78843.html" />
<meta name="DC.relation" scheme="URI" content="GUID-E012F7C2-64C2-40DA-89CF-C613B200BF19.html" />
<meta name="DC.relation" scheme="URI" content="GUID-81D18119-F240-47CC-8CDA-1B9FDD83B822.html" />
<meta name="DC.relation" scheme="URI" content="GUID-031836CF-94FC-442B-B7E8-45F3E66649D1.html" />
<meta name="DC.relation" scheme="URI" content="GUID-AF380EDC-B004-4B11-8FF6-2563D3DAC1B6.html" />
<meta name="DC.relation" scheme="URI" content="GUID-EA06AD1D-6A2D-4772-9E90-E7A8F2EC23DA.html" />
<meta name="DC.relation" scheme="URI" content="GUID-14E56CEC-4DA0-4224-B7C3-DD36BD3E79E2.html" />
<meta name="DC.relation" scheme="URI" content="GUID-EFE4EBAB-3F25-4EE9-BD27-D3BD6F14C3D8.html" />
<meta name="DC.relation" scheme="URI" content="GUID-CE31A004-61F9-480A-A2ED-86AE40681AAD.html" />
<meta name="DC.relation" scheme="URI" content="GUID-5E0FFB91-528B-46EF-A4CF-A205923C64E4.html" />
<meta name="DC.relation" scheme="URI" content="GUID-562FFC3B-E23F-423C-B72D-C2DE095DDB01.html" />
<meta name="DC.relation" scheme="URI" content="GUID-B6921361-2F3A-4384-8081-FCE9BC1D3895.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="client---bss-find-apis" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<title>Client - BSS Find APIs</title>
<meta name="Microsoft.Help.Id" content="GUID-8B137D7B-852A-471A-8E47-463DF557852F-client---bss-find-apis" />
<meta name="Microsoft.Help.TocParent" content="GUID-8B137D7B-852A-471A-8E47-463DF557852F" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLAB Harmony Wireless WiFi PIC32MZW1 Reference A 04/2022" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
         
         function copyContent(content, button) {
         
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                     button.textContent = "Copy";
                     button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
               console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
         }
         
         function cpy(id, button) {
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            
            copyContent(content, button);
         }
         
         document.addEventListener("DOMContentLoaded", function(event) {
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.style.position = "relative";
               var copy = document.createElement("button");
               copy.textContent = "Copy";
               copy.setAttribute("class", "copy-code");
               
               var content = elem.textContent;
               
               copy.addEventListener("click", function(){
                  copyContent(content, copy);
               });
               
               elem.addEventListener("mouseenter", function(evt){
                  elem.prepend(copy);
               });
            });
            
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.addEventListener("mouseleave", function(evt){
                  document.querySelector(".copy-code").remove();
               });
            });
         });
         
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-428BA90A-8569-4AF5-99EF-A915134BF434"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /></head>
<body id="client---bss-find-apis">
<h1 class="title topictitle1" id="ariaid-title1">Client - BSS Find APIs</h1><div class="body"><p class="p">The application can use this interface to request a scan for local BSSs. Once requested, the device will conduct the search using the configured search parameters and report the results back to the application one BSS at a time. This interface can be used in either a callback mode, a polled mode, or a combination of both callback and polled depending on how the application wishes to receive the BSS information.</p>
<p class="p">How a scan is conducted depends on the parameters and channel lists provided by the application?</p>
<p class="p">The channels which can be scanned may be set by calling <code class="ph codeph">WDRV_PIC32MZW_BSSFindSetEnabledChannels24</code>.</p>
<p class="p">When an application wishes to begin a scan operation it must call <code class="ph codeph">WDRV_PIC32MZW_BSSFindFirst</code>. It is possible to request a scan on only a single channel or on all channels enabled by calling <code class="ph codeph">WDRV_PIC32MZW_BSSFindSetEnabledChannels</code>. The scan can be performed using active mode (where probe requests are transmitted) or passive mode (where beacons are listened for).</p>
<p class="p"><code class="ph codeph">WDRV_PIC32MZW_BSSFindFirst</code> takes an optional callback function to use for notifying the application when the scan operation is complete, and the first result is available. If this isn’t provided, the application can poll this interface using <code class="ph codeph">WDRV_PIC32MZW_BSSFindInProgress</code> to determine if the device is still scanning.</p>
<p class="p"><strong class="ph b">Getting Results – Callback Only</strong></p>
<p class="p">If a callback function was provided to <code class="ph codeph">WDRV_PIC32MZW_BSSFindFirst</code>, the Wi-Fi driver will call this callback when the first results are available. The callback is provided with the scan result for a single BSS as well as the index of the results within the full set of BSSs discovered.
If the callback function returns the value true to the Wi-Fi driver, it will cause the driver to request the next result from the PIC32MZW1 device. When this result is available, the Wi-Fi driver will again call the callback and provide the BSS information. It is thus possible to receive all the results via the callback.</p>
<p class="p"><strong class="ph b">Getting Results – Callback Notification, Foreground Retrieval</strong></p>
<p class="p">While the application may wish to be notified of a BSS result being available via the callback mechanism, it may be preferable to retrieve the result information from a foreground task. For example, in an OS environment the callback may simply signal a semaphore triggering the main application task to retrieve the BSS information.</p>
<p class="p">In this model the callback called by the Wi-Fi driver should return the value false. The Wi-Fi driver will not request the next set of BSS information from the PIC32MZW1 device.</p>
<p class="p">The foreground task may then call <code class="ph codeph">WDRV_PIC32MZW_BSSFindGetInfo</code> with a pointer to a <code class="ph codeph">WDRV_PIC32MZW_BSS_INFO</code> structure to receive the BSS information. If the function is called when there is no valid BSS information present in the PIC32MZW driver, the function will return <code class="ph codeph">WDRV_PIC32MZW_STATUS_NO_BSS_INFO</code>.</p>
<p class="p">When the application wishes to request the next set of BSS information, it must call WDRV_PIC32MZW_BSSFindNext. It is possible to change the callback function at this time or even turn off callback operation if a NULL pointer is used. Assuming the callback function is again specified the Wi-Fi driver will request the next set of BSS information from the device and inform the application via the callback.</p>
<p class="p"><strong class="ph b">Getting Results – Polled</strong></p>
<p class="p">The operations of the BSS scan can be inferred by polling this interface.
<code class="ph codeph">WDRV_PIC32MZW_BSSFindInProgress</code> indicates if the scan operation is currently active and results are not yet available.
<code class="ph codeph">WDRV_PIC32MZW_BSSFindGetNumBSSResults</code> returns the number of sets of BSS information available as a result of a scan operation.
<code class="ph codeph">WDRV_PIC32MZW_BSSFindGetInfo</code> can be called to retrieve the BSS information. If the information is not yet available this function will return WDRV_PIC32MZW_STATUS_NO_BSS_INFO.</p>
<p class="p"><strong class="ph b">Terminating a BSS Search</strong></p>
<p class="p">Once a scan operation has been started by calling <code class="ph codeph">WDRV_PIC32MZW_BSSFindFirst</code> it must be allowed to complete, once it has the application may decide to ignore some or all of the results. To abort the BSS information retrieval and abandon any remaining results the application can call <code class="ph codeph">WDRV_PIC32MZW_BSSFindReset</code>.</p>
</div>
<div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="GUID-6C1D56BE-C531-4584-903E-B20EA545069E.html">WDRV_PIC32MZW_BSSFIND_NOTIFY_CALLBACK Typedef</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-5160F49B-444F-4D1A-A398-5207DEF78843.html">WDRV_PIC32MZW_SCAN_MATCH_MODE Enum</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-E012F7C2-64C2-40DA-89CF-C613B200BF19.html">WDRV_PIC32MZW_SEC_MASK Enum</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-81D18119-F240-47CC-8CDA-1B9FDD83B822.html">WDRV_PIC32MZW_BSSFindFirst Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-031836CF-94FC-442B-B7E8-45F3E66649D1.html">WDRV_PIC32MZW_BSSFindGetInfo Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-AF380EDC-B004-4B11-8FF6-2563D3DAC1B6.html">WDRV_PIC32MZW_BSSFindGetNumBSSResults Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-EA06AD1D-6A2D-4772-9E90-E7A8F2EC23DA.html">WDRV_PIC32MZW_BSSFindInProgress Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-14E56CEC-4DA0-4224-B7C3-DD36BD3E79E2.html">WDRV_PIC32MZW_BSSFindNext Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-EFE4EBAB-3F25-4EE9-BD27-D3BD6F14C3D8.html">WDRV_PIC32MZW_BSSFindReset Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-CE31A004-61F9-480A-A2ED-86AE40681AAD.html">WDRV_PIC32MZW_BSSFindSetEnabledChannels24 Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-5E0FFB91-528B-46EF-A4CF-A205923C64E4.html">WDRV_PIC32MZW_BSSFindSetScanMatchMode Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-562FFC3B-E23F-423C-B72D-C2DE095DDB01.html">WDRV_PIC32MZW_BSSFindSetScanParameters Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-B6921361-2F3A-4384-8081-FCE9BC1D3895.html">WDRV_PIC32MZW_BSSRoamingConfigure Function</a></strong><br />
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-11E4FD9C-17E6-4F65-AE7A-6550EB45E118.html">MPLAB® Harmony PIC32MZW1 WLAN Library</a></div>
</div>
</div></body>
</html>